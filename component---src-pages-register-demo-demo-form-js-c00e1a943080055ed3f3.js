(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"8AYq":function(e,a,t){"use strict";t.r(a);var r=t("HaE+"),n=(t("zLVn"),t("o0o1")),o=t.n(n),s=t("q1tI"),l=t.n(s),c=t("/MKj"),i=t("c09o"),u=(t("ofer"),t("Ji2X")),m=t("r9w1"),d=t("PsDL"),b=t("VmPI"),f=t("Z3vd"),p=t("iae6"),g=t("+bXu"),h=(t("ZiQX"),t("J5ja")),y=(t("CGSa"),t("/RtB"),t("2Mjm"),t("KYPV")),v=t("UGp+"),E=t("7frF"),w=t.n(E),j=t("CRf/"),O=t.n(j),N=t("jBtN"),P=t("nfo/"),S=t("w2x5"),C=t("9kay"),k=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,x=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z!@#$%^&*()_,.?":{}|<>\d]{8,20}$/;a.default=Object(C.b)()(Object(c.b)((function(e){return{language:e.language}}),{})((function(e){var a=e.t,t=v.b({firstName:v.d("Enter a first name").required(a("First name is required")),lastName:v.d("Enter a last name").required(a("Last name is required")),countryResidency:v.d("Select your country of residence").required(a("Country of residence is required")),city:v.d("Enter City"),phone:v.d("Enter your Phone").required(a("Phone is required")).matches(k,a("Phone number is not valid")),email:v.d("Enter your email").required(a("Email is required")).email(a("Enter a valid email")).test("email-availability",a("Account already exists with this email, Kindly login"),function(){var e=Object(r.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())){e.next=6;break}return e.next=4,Object(S.b)({email:a.toLowerCase()});case 4:return t=e.sent,e.abrupt("return",t.result.availability);case 6:return e.abrupt("return",!1);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()),portalPassword:v.d("").min(8,a("Password must contain atleast 8 characters")).max(20,a("Password should not be more than 20 characters long")).matches(x,a("Atleast one lower case, upper case and number required")).required(a("Enter your password")),portalPasswordConfirm:v.d("").oneOf([v.c("portalPassword"),null],"Passwords must match").required(a("Enter confirm password")),tos:v.a().oneOf([!0],a("Accept Terms & Conditions is required"))}),n=(e.history,e.language),c=Object(s.useState)(!0),i=c[0],u=c[1],m=Object(s.useState)(!1),d=m[0],b=m[1],f=Object(s.useState)(!1),p=(f[0],f[1]),g=Object(s.useState)(!1),h=(g[0],g[1]),E=Object(s.useState)(!1),w=E[0],j=E[1],O=Object(s.useState)(!1),C=O[0],I=O[1],B=Object(s.useState)(!1),A=B[0],L=B[1],q=Object(s.useState)(!1),z=q[0],F=q[1];Object(s.useEffect)((function(){var e=new URLSearchParams(window.location.search),a=e.get("ibRef"),t=e.get("ibId"),r=e.get("ref"),n=e.get("utm-campaign");a&&(j(a),localStorage.setItem("partnerId",a)),t&&(I(t),localStorage.setItem("ibId",t)),r&&(L(r),localStorage.setItem("referral",r)),n&&(F(n),localStorage.setItem("utm",n))}),[]);var T=function(){var e=Object(r.a)(o.a.mark((function e(a){var t,r,n,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),b(!0),t=localStorage.getItem("partnerId"),r=localStorage.getItem("ibId"),w?a.ibRef=w:t&&(a.ibRef=t),C?a.ibId=C:r&&(a.ibId=r),e.prev=6,n=localStorage.getItem("referral"),s=localStorage.getItem("utm"),a.referral=A||(n||null),a.utmCampaign=z||(s||null),a.countryCode=Object(N.c)(a.countryResidency),e.next=14,Object(S.e)(a);case 14:l=e.sent,b(!1),l.isSuccess?(p(!0),window.location.replace(P.b+"?token="+l.result)):(h(!0),u(!0)),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),h(!0),u(!0),b(!1);case 24:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(a){return e.apply(this,arguments)}}(),W={firstName:"",lastName:"",countryResidency:"United Arab Emirates",phone:"+971",email:"",portalPassword:"",portalPasswordConfirm:"",declarations:["By clicking here I give my consent for Accuindex to contact me for marketing purposes. You can opt out at any time. For further details please see ourMarketing and Communication Policy Statement."],tos:!1,language:"en-us"===n?"en-gb":n},M=Object(s.useState)(W),Z=M[0],V=M[1],Y=function(){var e=Object(r.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.c)();case 3:a=e.sent,V(Object.assign({},Z,{countryResidency:Object(N.b)(a.country||"AE")})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Locate Error",e.t0),V(Object.assign({},Z,{countryResidency:Object(N.b)("AE")}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Y()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{enableReinitialize:!0,validateOnMount:!1,validateOnChange:!0,validate:!1,validateOnBlur:!0,initialValues:Z,validationSchema:t,onSubmit:T},(function(e){return l.a.createElement(R,Object.assign({activeSubmit:i,isLoading:d,language:n},e))})))})));var R=Object(C.b)()((function(e){var a,t=e.values,r=t.firstName,n=t.lastName,o=t.countryResidency,c=(t.city,t.phone),y=t.email,v=t.portalPassword,E=t.portalPasswordConfirm,j=(t.emailPin,t.declarations,t.tos),P=e.errors,S=e.touched,C=e.handleSubmit,k=e.handleChange,x=e.setFieldTouched,R=e.setFieldValue,I=e.activeSubmit,B=(e.isLoading,e.language),A=e.t,L=Object(N.e)(),q=Object(s.useState)(!1),z=q[0],F=q[1],T=Object(s.useState)(!1),W=(T[0],T[1],Object(s.useState)(!1)),M=(W[0],W[1],Object(s.useState)(A("Send PIN"))),Z=(M[0],M[1]),V=Object(s.useState)(l.a.createElement(h.a,null)),Y=(V[0],V[1]),J=Object(s.useRef)(),$=Object(s.useRef)(),H=Object(s.useState)(!1),K=H[0],U=H[1],X=Object(s.useState)(!1),_=X[0],G=X[1];Object(s.useEffect)((function(){var e;switch(B){case"ar-ae":e="ar";break;case"ja-jp":e="jp";break;case"zh-cn":e="ch";break;case"es-es":e="es";break;case"so-kr":e="so";break;case"fa-ir":e="fa";break;case"ru":e="ru";break;case"en-us":default:e="en"}i.a.changeLanguage(e)}),[B]),Object(s.useEffect)((function(){F(!1),Z(A("Send PIN")),Y(l.a.createElement(h.a,null))}),[y]),Object(s.useEffect)((function(){z&&$.current.focus()}),[z]),Object(s.useEffect)((function(){var e=N.a.find((function(e){return e.country===o}));e&&R("phone","+"+e.calling_code)}),[o]);var D=function(e){x(e)};return l.a.createElement(u.a,{className:"ar-ae"===B?"dir-ar-ae":""},l.a.createElement("form",{onSubmit:C},l.a.createElement(m.a,{variant:"standard",className:"mb-4",name:"firstName",helperText:S.firstName?P.firstName:"",error:!!S.firstName&&Boolean(P.firstName),label:A("First Name"),value:r,onChange:function(e){x(e.target.name),k(e)},onBlur:function(){D("firstName")},fullWidth:!0}),l.a.createElement(m.a,((a={variant:"standard",className:"mb-4",name:"lastName",helperText:S.lastName?P.lastName:"",error:!!S.lastName&&Boolean(P.lastName),label:A("Last Name"),value:n,onChange:k,onBlur:k}).onBlur=function(){D("lastName")},a.fullWidth=!0,a)),l.a.createElement(g.a,{id:"country",className:"mb-2",options:L,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,value:Object(N.d)(o),onChange:function(e,a){R("countryResidency",a?a.countryEn:"")},getOptionLabel:function(e){return"ar-ae"===B?e.countryAr:e.countryEn},renderOption:function(e){return l.a.createElement(l.a.Fragment,null,"ar-ae"===B?e.countryAr:e.countryEn)},renderInput:function(e){return l.a.createElement(m.a,Object.assign({},e,{label:A("Country of Residence"),name:"countryResidency",value:o,helperText:S.countryResidency?P.countryResidency:"",error:!!S.countryResidency&&Boolean(P.countryResidency),onBlur:function(){D("countryResidency")},variant:"standard"}))}}),l.a.createElement(m.a,{variant:"standard",className:"mb-4",name:"phone",inputRef:J,onBlur:function(){D("phone")},helperText:S.phone?P.phone:"",error:!!S.phone&&Boolean(P.phone),label:A("Phone"),fullWidth:!0,value:c,onChange:k,inputProps:{className:"dir-ltr"}}),l.a.createElement(m.a,{variant:"standard",className:"mb-4",name:"email",helperText:S.email?P.email:"",error:!!S.email&&Boolean(P.email),label:A("Email"),onBlur:function(){D("email")},fullWidth:!0,value:y,onChange:k}),l.a.createElement(m.a,{variant:"standard",className:"mb-2",name:"portalPassword",onBlur:function(){D("portalPassword")},helperText:S.portalPassword?P.portalPassword:"",error:!!S.portalPassword&&Boolean(P.portalPassword),label:A("Password"),fullWidth:!0,type:K?"text":"password",value:v,onChange:k,InputProps:{endAdornment:l.a.createElement(d.a,{"aria-label":"toggle password visibility",onClick:function(){U(!K)}},K?l.a.createElement(w.a,null):l.a.createElement(O.a,null))}}),l.a.createElement(m.a,{variant:"standard",className:"mb-2",name:"portalPasswordConfirm",onBlur:function(){D("portalPasswordConfirm")},helperText:S.portalPasswordConfirm?P.portalPasswordConfirm:"",error:!!S.portalPasswordConfirm&&Boolean(P.portalPasswordConfirm),label:A("Confirm Password"),fullWidth:!0,type:_?"text":"password",value:E,onChange:k,InputProps:{endAdornment:l.a.createElement(d.a,{"aria-label":"toggle password visibility",onClick:function(){G(!_)}},_?l.a.createElement(w.a,null):l.a.createElement(O.a,null))}}),l.a.createElement("div",{className:"mb-4"},l.a.createElement("div",{className:"badge badge-pill badge-info mr-1"},A("8-20 characters")),l.a.createElement("div",{className:"badge badge-pill badge-info mr-1"},A("Latin Letters")),l.a.createElement("div",{className:"badge badge-pill badge-info mr-1"},A("Numbers"))),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement(b.a,{checked:j,onChange:k,name:"tos",id:"tos",value:"true",className:"align-self-start p-0 mx-2",color:"default"}),l.a.createElement("div",{className:"mb-4"},l.a.createElement("p",null,A("By clicking here I give my consent for"),"  ",l.a.createElement("b",null,A("Bank al Ethihad")),"  ",A("to contact me for marketing purposes, You can opt out at any time, For further details please see our"),l.a.createElement("a",{href:"https://exiniti.blob.core.windows.net/public/Accuindex-Limited-Privacy-Notice.pdf",target:"_blank",rel:"noopener noreferrer",className:"link"},A("Marketing and Communication Policy Statement")),"."),l.a.createElement("p",{className:"MuiFormHelperText-root Mui-error",style:{color:"red",fontSize:"small"}},S.emailPin&&P.tos&&A("You must tick the consent form")))),l.a.createElement("div",{className:"text-center"},l.a.createElement(f.a,{style:{minWidth:"8rem"},type:"submit",size:"large",className:"btn-success",disabled:!I||e.isLoading},e.isLoading?l.a.createElement(p.a,{size:20}):A("Register Now")))))}))}}]);
//# sourceMappingURL=component---src-pages-register-demo-demo-form-js-c00e1a943080055ed3f3.js.map